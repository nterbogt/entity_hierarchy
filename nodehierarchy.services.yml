services:
  nodehierarchy.event_subscriber:
    class: Drupal\nodehierarchy\EventSubscriber\NodeHierarchyEventSubscriber
    arguments: ['@module_handler']
    tags:
      - { name: event_subscriber }
#  nodehierarchy.breadcrumb:
#    class: Drupal\nodehierarchy\HierarchyBreadcrumbBuilder
#    arguments: ['@entity.manager', '@access_manager', '@current_user']
#    tags:
#      - { name: breadcrumb_builder, priority: 701 }
  nodehierarchy.manager:
    class: Drupal\nodehierarchy\HierarchyManager
    arguments: ['@entity_type.manager', '@string_translation', '@config.factory', '@nodehierarchy.outline_storage']
  nodehierarchy.outline:
    class: Drupal\nodehierarchy\HierarchyOutline
    arguments: ['@nodehierarchy.manager']
#  nodehierarchy.export:
#    class: Drupal\nodehierarchy\HierarchyExport
#    arguments: ['@entity.manager', '@nodehierarchy.manager']
  nodehierarchy.outline_storage:
    class: Drupal\nodehierarchy\HierarchyOutlineStorage
    arguments: ['@database']
    tags:
      - { name: backend_overridable }
  access_check.nodehierarchy.removable:
    class: Drupal\nodehierarchy\Access\HierarchyNodeIsRemovableAccessCheck
    arguments: ['@nodehierarchy.manager']
    tags:
      - { name: access_check, applies_to: _access_nodehierarchy_removable }
      
